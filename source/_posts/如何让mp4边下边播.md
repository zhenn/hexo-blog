title: "如何让mp4边下边播"
date: 2016-04-07 10:52:41
categories: 技术
tags: ['video','javascript']
---

### 问题描述

使用H5 video标签播放mp4资源，部分视频需要下载完整才能播放，有些则可以边下载边播放。

### 决定因素

元数据 —— 编码等级、分辨率、色域、码率、帧率、位深、时长等等；

视频何时可播放取决于视频元数据位置，如其位于文件末尾，播放器播放时需要读取时长就需要下载整个视频才能读到。相反的，若把元数据放到文件头部，就可提前播放时间点。

有些转码器会把元数据写到文件尾部，如FFmpeg将视频转换成MP4，解决办法就很简单，使用新的转码器把元数据放到头部即可，比如`qt-faststart`。

<!--more-->

